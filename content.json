{"meta":{"title":"Bianyufeng","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[{"title":"about","date":"2020-02-23T11:20:33.000Z","updated":"2021-02-25T08:06:00.078Z","comments":false,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"谢谢你能来这个博客主要是写一些平时需要用到，又怕忘掉的东西偶尔会更新一些日常所以会能杂乱"}],"posts":[{"title":"Configure ZeroTier in OpenWrt","slug":"zerotier","date":"2021-02-25T09:33:06.147Z","updated":"2021-02-26T08:48:15.158Z","comments":true,"path":"2021/02/25/zerotier/","link":"","permalink":"http://example.com/2021/02/25/zerotier/","excerpt":"","text":"由于我经常需要远程开启家中电脑，又不想使用收费的内网穿透增加使用成本，所以自己用zerotier搭建了虚拟的局域网。 zerotier使用起来非常方便，而且支持的平台很全，如Android，ios，synology等，重点是免费的。 只是远程访问家中路由，不传输文件的话，是很好用的。 下面是我搭建的教程第一步，注册。首先登陆zerotier官网 注册账号并建立一个新的虚拟局域网，过程和其他网站一样很简单而且有引导，不再赘述。![Create A Network.PNG](C:\\Users\\Administrator\\blog\\themes\\fluid\\source\\img\\photo\\Create A Network.PNG) 第二步，配置虚拟网络首先 复制zerotier生成的key并在openwrt 界面输入拿到的key![copy id.PNG](C:\\Users\\Administrator\\blog\\themes\\fluid\\source\\img\\photo\\copy id.PNG)![paste key.PNG](C:\\Users\\Administrator\\blog\\themes\\fluid\\source\\img\\photo\\paste key.PNG) [x]启动 [x]自动允许客户端NET 完成后，稍等一下刷新zerotier网页，在Members列表会出现新的设备，这台设备就是openwrt。可以在address中的Mac地址和软路由中接口信息的log对照一下。确认无误后，添加备注并在前方的复选框中打勾。这时，openwrt的设备就成功拿到了zerotier的地址。我们可以用同样的方法配置其他设备。![openwrt configuration information.PNG](C:\\Users\\Administrator\\blog\\themes\\fluid\\source\\img\\photo\\openwrt configuration information.PNG) 第三步，配置openwrt接口到现在为止，我们添加到虚拟网络中的设备就可以互访了。但是想访问openwrt网络下的其他设备，还需要如下操作。 在openwrt 网络 —- 接口下，添加新接口。接口名称可以随便起，为了方便记忆，我命名为zerotier。 协议 是静态地址在包括以下接口复选框 勾选 以太网适配器：”[zt开头的接口]“这里每个人的都不一样，但是都是zt开头的内容。我们勾选他，并复制这段英文。一会会用到。保存设置-提交 ![api config.PNG](C:\\Users\\Administrator\\blog\\themes\\fluid\\source\\img\\photo\\api config.PNG) 保存后我们对新添加的接口进行修改在IPv4地址中 填入zerotier分配给我们的虚拟ip在子网掩码中 填入 255.255.255.0点击 防火墙设置 把防火墙配置到lan口。 保存&amp;应用 接下来 我们在openwrt的网络–防火墙–自定义规则中添加三条规则 123iptables -I FORWARD -i 网卡名称 -j ACCEPTiptables -I FORWARD -o 网卡名称 -j ACCEPTiptables -t nat -I POSTROUTING -o 网卡名称 -j MASQUERADE 替换代码中网卡名称为zt开头的接口名称重启防火墙。 第四部，配置虚拟网络路由表完成openwrt接口设置后，我们需要为它添加路由表进入zerotier网络配置页面找到openwrt虚拟ip并复制在Advanced–add Routes中的Via 粘贴虚拟ip在Destination中，填写你局域网中openwrt的网段地址如192.168.1.0并在ip后填写 /24/24 的意思是 子网掩码255.255.255.0点击Submit。 ###总结到此为止 openwrt配置Zerotier虚拟局域网就算完成了。实际配置步骤还是很简单的。因为zerotier的服务器架设在国外，在国内使用的话会有各种不稳定现象出现，如果不能正常使用建议全部铲掉重来。","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2021-02-20T03:04:49.064Z","updated":"2021-02-20T03:04:49.064Z","comments":true,"path":"2021/02/20/hello-world/","link":"","permalink":"http://example.com/2021/02/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[]}